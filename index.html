<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>KITT FRANCO-BELGE // SYSTÈME CENTRAL</title>

<style>
:root{
--green:#00ff66;
--red:#ff1a1a;
}

html,body{
margin:0;
height:100%;
background:#000;
color:var(--green);
font-family:"Courier New",monospace;
overflow:hidden;
}

/* effet écran CRT */
body::after{
content:"";
position:fixed;
inset:0;
background:repeating-linear-gradient(
0deg,
rgba(0,255,100,.05),
rgba(0,255,100,.05) 1px,
transparent 1px,
transparent 3px);
pointer-events:none;
animation:flicker .15s infinite;
}

@keyframes flicker{
0%{opacity:.92}
50%{opacity:1}
100%{opacity:.94}
}

.container{
display:flex;
flex-direction:column;
height:100%;
padding:20px;
box-sizing:border-box;
}

header{
color:var(--red);
font-size:22px;
letter-spacing:3px;
text-shadow:0 0 12px var(--red);
}

#terminal{
flex:1;
overflow:auto;
margin-top:20px;
white-space:pre-wrap;
font-size:14px;
}

button{
background:black;
border:1px solid var(--green);
color:var(--green);
padding:10px 18px;
margin:6px 6px 6px 0;
cursor:pointer;
font-family:inherit;
transition:.2s;
}

button:hover{
background:var(--green);
color:black;
}

#scanner{
position:absolute;
bottom:0;
left:0;
width:100%;
height:4px;
background:var(--red);
box-shadow:0 0 20px var(--red);
animation:scan 2s linear infinite;
}

@keyframes scan{
0%{left:-100%}
100%{left:100%}
}

.modal{
position:fixed;
inset:0;
background:rgba(0,0,0,.9);
display:none;
flex-direction:column;
padding:30px;
overflow:auto;
}

.modal pre{
white-space:pre-wrap;
color:var(--green);
font-family:monospace;
}

.close{
position:absolute;
top:20px;
right:20px;
font-size:20px;
cursor:pointer;
color:var(--red);
}
</style>
</head>

<body>

<div class="container">
<header>KITT FRANCO-BELGE // INTERFACE CENTRALE</header>

<div id="terminal"></div>

<div>
<button onclick="boot()">INITIALISER</button>
<button onclick="openFile('MENTIONS.txt')">MENTIONS LÉGALES</button>
<button onclick="openFile('LICENSE.txt')">LICENCE</button>
</div>

<div id="scanner"></div>
</div>

<!-- fenêtre modale -->
<div id="modal" class="modal">
<div class="close" onclick="closeModal()">✖</div>
<pre id="modalContent"></pre>
</div>

<script>
const term=document.getElementById("terminal");

function beep(freq=600,dur=0.05){
const ctx=new(window.AudioContext||window.webkitAudioContext)();
const osc=ctx.createOscillator();
const gain=ctx.createGain();
osc.frequency.value=freq;
osc.connect(gain);
gain.connect(ctx.destination);
gain.gain.value=.08;
osc.start();
setTimeout(()=>osc.stop(),dur*1000);
}

function typeText(text,speed=18){
return new Promise(resolve=>{
let i=0;
function t(){
if(i<text.length){
term.innerHTML+=text[i++];
beep();
setTimeout(t,speed);
}else{
term.innerHTML+="\n";
resolve();
}}
t();
});
}

async function boot(){
term.innerHTML="";
await typeText("INITIALISATION DU SYSTÈME...");
await typeText("CHARGEMENT MODULE VOCAL...");
await typeText("SYNTHÈSE VOCALE : OK");
await typeText("RECONNAISSANCE VOCALE : OK");
await typeText("LLM LOCAL : OK");
await typeText("MODE HORS-LIGNE : ACTIVÉ");
await typeText("PROJET FAN NON COMMERCIAL.");
await typeText("PROTECTION PAR DROIT D'AUTEUR ACTIVE.");
await typeText("CONNEXION AU NOYAU KITT ÉTABLIE.");
}

function openFile(file){
fetch(file)
.then(r=>r.text())
.then(text=>{
document.getElementById("modalContent").textContent=text;
document.getElementById("modal").style.display="flex";
});
}

function closeModal(){
document.getElementById("modal").style.display="none";
}

window.onload=()=>typeText("SYSTÈME EN ATTENTE D'INITIALISATION...");
</script>

</body>
</html>
